function startUptime(deviceIp, history) {
    clearInterval(deviceDowntimeTimers[deviceIp]);
    let lastOnlineEntry = history.filter(entry => entry.status === "Online").pop();
    
    if (!lastOnlineEntry) return;
    
    let startTime = new Date(lastOnlineEntry.timestamp).getTime();
    deviceUptimeTimers[deviceIp] = setInterval(() => {
        let elapsedTime = Math.floor((Date.now() - startTime) / 1000);
        let uptimeElement = document.getElementById(`uptime-${deviceIp}`);

        if (uptimeElement) { // Check if the element exists
            uptimeElement.innerText = formatDuration(elapsedTime);
        } else {
            console.warn(`Element uptime-${deviceIp} not found`);
        }
    }, 1000);
}
