function displayDeviceHistory(history) {
    const historyContainer = document.getElementById('device-history');
    historyContainer.innerHTML = '';

    if (history.length > 0) {
        history.forEach(entry => {
            const date = new Date(entry.timestamp);
            const formattedDate = date.toDateString(); // Example: "Wed Mar 19 2025"
            const day = date.toLocaleDateString(undefined, { weekday: 'long' }); // Example: "Wednesday"
            const time = date.toLocaleTimeString(undefined, { hour: '2-digit', minute: '2-digit', second: '2-digit' }); // Example: "12:53:16 AM"

            const entryDiv = document.createElement('div');
            entryDiv.innerHTML = `<p><strong>${day}, ${formattedDate}, ${time}</strong> - ${entry.status}</p>`;

            historyContainer.appendChild(entryDiv);
        });
    } else {
        historyContainer.innerHTML = '<p>No history available</p>';
    }
}
