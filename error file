Check Below function for update Remarks


function updateRemarks(deviceIp, history) {
    let downtimeCount = history.filter(entry => entry.status === "Offline").length;
    let totalDowntimeDuration = history.filter(entry => entry.status === "Offline")
                                       .reduce((total, entry) => total + (new Date() - new Date(entry.timestamp)), 0) / 1000;

    totalDowntimeDuration = Math.floor(totalDowntimeDuration / 3600); // Convert to hours

    const remarkElement = document.getElementById(`remark-${deviceIp}`);

    if (downtimeCount > 5 && totalDowntimeDuration > 5) {
        remarkElement.innerText = `Device is offline, its downtime count is ${downtimeCount}, and Device needs repair.`;
    } else if (history.length > 0 && history[history.length - 1].status === "Online") {
        remarkElement.innerText = `Device is online, its downtime count is ${downtimeCount}.`;
    }
}


I want update Remark 
1) if device is offline then display device is offline
2)If Device is Offline and its downtime count is 3 or more than 3 Or its downtimeDuration is more than 2 Day then display "device need to repair."
3)If device is Online then display Device is Online.
4)If Device is Online and having a downtime Count then in Remark display Device is Online and its downtime Count is (diwntimeCount Valu)
5)If Deviec Is Online and having Downtime count is 3 or more than 3 OR its downtime duration is more than 2 day then also display Device Need to repair.

