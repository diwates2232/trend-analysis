[ContentMain]
ContentMain.js:18 [ContentService] document.readyState: loading
ContentMain.js:5 [ContentService.SetContentInitData] target: { TabId: 1454074211, FrameId: 0}
summary.js:20 Devices Data: {details: {â€¦}}
summary.js:24 Error fetching devices: TypeError: devices.filter is not a function
    at filterDevices (summary.js:76:24)
    at updateDeviceList (summary.js:34:31)
    at fetchDevices (summary.js:22:13)
fetchDevices @ summary.js:24
await in fetchDevices
(anonymous) @ summary.js:134Understand this errorAI


async function fetchDevices(region = "global") {
    try {
        const response = await fetch(`http://localhost/api/regions/details/${region}`);
        if (!response.ok) throw new Error("Failed to fetch data");

        const data = await response.json();
        console.log("Devices Data:", data);  // Check the structure

        // Ensure that 'data.details' is an array, or access the correct array
        if (Array.isArray(data.details)) {
            updateDeviceList(data.details);  // If 'details' is already an array
        } else if (data.details && data.details.devices) {
            updateDeviceList(data.details.devices);  // Access 'devices' if it's nested
        } else {
            console.error("Invalid devices data structure:", data);
        }
    } catch (error) {
        console.error("Error fetching devices:", error);
    }
}
